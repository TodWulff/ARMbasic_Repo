' ========================================================================================
'
'	ABmt (Multi-Threaded ARMbasic): Task Wrapper Lib File
'
'
'	'  Revision History
'
'v 0.02		24Nov18	Initial Release
'	â€¢	ample comments/diatribe and code will eventually be descriptive of implementation
'
' TODO/FIXME: 	
'	-	Use preprocessor directives to expand this to handle both the 824 and 54102 (54102 currently)
' 	-	add checks here to ensure version compatibility between this and the Scheduler
'	-	lots of other stuff... :)
'
' ========================================================================================

'~~ // /* #ifndef ABmt_TaskWrapperLibVersion			' 'single Load' construct intentionally disabled...*/ 
#define ABmt_TaskWrapperLibVersion	"0.02"

'the lack of a 'single-load' #ifndef construct here is intentional.
'this #include is a wrapper for each task and is meant to be reloaded for each task
'so that the non-boundary (intra-token) expansion of ABMt_TaskID can be customized for each task...

#ifdef ABmt_SchedulerCompile
	#warning ==================='================================================
	#warning BUILDING TASK ' __FILE__
	#warning ==================='================================================
	
	// This depends on use of FilePP with word boundaries being turned off.!.
	#define main:	sub ABmt_Task_ABmt_TaskID
	#define end		endsub
	
	' #ifdef ABmt_NewTask
		' #undef ABmt_NewTask
		' #define ABmt_TasksCount add(ABmt_TasksLoaded,1)
	' #else
		' #define ABmt_TasksCount 1
	' #endif
	
	' #define ABmt_TasksLoaded ABmt_TasksCount

#else
	#warning ==================='================================================
	#warning BUILDING APP ' __FILE__
	#warning ==================='================================================
#endif

'~ // /* #endif	*/

